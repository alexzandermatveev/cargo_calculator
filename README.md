# Проект Тарифный Калькулятор

Расчет стоимости доставки грузов в зависимости от веса
упаковок входящих в состав груза.

## Используемые технологии

- Spring Boot 3
- Maven 3
- JUnit 5
- Swagger

## Локальный запуск

### Требования

Проект использует синтаксис Java 17. Для локального запуска вам потребуется
установленный JDK 17.

### Используя среду разработки

Откройте проект. Дождитесь индексации. Создайте конфигурацию запуска
или запустите main метод класса [app/src/main/java/ru/fastdelivery/Main.java](app/src/main/java/ru/fastdelivery/Main.java)

### Используя Docker

Вы можете создать Docker образ с приложением и запустить его.

Соберите проект:

```shell
./mvnw clean package
```

Создать образ:

```shell
docker build -t ru.fastdelivery:latest .
```

Запуск контейнера:

```shell
docker run -p 8081:8081 ru.fastdelivery:latest
```

### Используя JAR

Соберите проект:

```shell
./mvnw clean package
```

Запустите Jar файл:

```shell
java -jar app/target/app-1.0-SNAPSHOT.jar
```

Linux/macOs:

```shell
./mvnw clean test
```

Windows:

```shell
./mvnw.cmd clean test
```

## Swagger

При запущенном приложение вы можете
выполнять запросы используя интерфейс Swagger. 

http://localhost:8080/swagger-ui/index.html

## Структура приложения

Приложения разделено на maven модули, каждый
модуль отвечает за свою область применения:

- [app](app)

Содержит класс запуска приложения, настройки связывания бинов,
чтение значений из файла [application.yml](app/src/main/resources/application.yml)

- [domain](domain)

В модуле находятся все классы участвующие в бизнес логике, такие как Упаковка,
Вес, Валюта, Стоимость. Класс не должен содержать зависимостей на фреймворк Spring Boot и на другие модули проекта.

- [useCase](useCase)

В модуле находится все процессы бизнес логики использующие доменные
классы. Класс не должен содержать зависимостей на фреймворк Spring Boot, только зависит от модуля `domain`

- [web](web)

В модуле находится контроллеры, этот модуль единственный общается с
внешним миром. Содержит зависимости Spring Boot и `domain`, `useCase`.

## Пояснения к application.yml

В файл конфигурации вынесены следующие параметры:
1. <b>Валюта [currency.available]</b> <br> Здесь можно указать все валюты, которые можно применить в последующих расчетах в виде списка.
2. <b>Стоимость перевозки [cost.rub]</b>
   1. Удельная по массе, кг [perKg]
   2. Удельная по объему, м<sup>3</sup> [perCubMeter]
   3. Минимальная [minimal]
3. <b>Координаты [space]</b> <br> Для указания места отправления и получения указываются соответсвующее классы с параметрами широты (latitude) и долготы (longitude). 
Расчет доставки будет производиться только для точек, попадающие в указанные пределы.
   1. Минимальная широта [latitudeMin]
   2. Максимальная широта [latitudeMax]
   3. Минимальная долгота [longitudeMin]
   4. Максимальная долгота [longitudeMax]





